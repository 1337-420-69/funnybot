<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gemini Chatbot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h1 { text-align: center; }
    #chat {
      background: white;
      border: 1px solid #ccc;
      padding: 10px;
      height: 400px;
      overflow-y: auto;
      border-radius: 8px;
    }
    .message { margin: 10px 0; }
    .user { color: blue; }
    .bot { color: green; }
    #controls {
      display: flex;
      margin-top: 10px;
    }
    #userInput {
      flex: 1;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      margin-left: 6px;
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      background: #4285f4;
      color: white;
      cursor: pointer;
    }
    button:hover { background: #357ae8; }
  </style>
</head>
<body>
  <h1>Gemini Chatbot</h1>
  <div id="chat"></div>
  <div id="controls">
    <input id="userInput" type="text" placeholder="Type a message..." />
    <button id="sendBtn">Send</button>
  </div>

  <script>
    const API_KEY = "AIzaSyCH9FRCBC2dUJvxt5eg_t82NxP4ogTmOc0"; // <-- Paste your Gemini API key here
    const MODEL = "gemini-2.5-pro";
    const chatDiv = document.getElementById("chat");
    const inputEl = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");

    sendBtn.addEventListener("click", () => {
      const text = inputEl.value.trim();
      if (!text) return;
      appendMessage("user", text);
      inputEl.value = "";
      callGemini(text);
    });

    function appendMessage(role, text) {
      const div = document.createElement("div");
      div.className = `message ${role}`;
      div.textContent = `${role === "user" ? "You" : "Bot"}: ${text}`;
      chatDiv.appendChild(div);
      chatDiv.scrollTop = chatDiv.scrollHeight;
    }

    async function callGemini(userText) {
      appendMessage("bot", "Thinking...");
      try {
        const response = await fetch(
          `https://generativelanguage.googleapis.com/v1beta/models/${MODEL}:generateContent?key=${API_KEY}`,
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              contents: [{ parts: [{ text: userText }] }]
            })
          }
        );

        const data = await response.json();
        console.log(data);
        const reply =
          data.candidates?.[0]?.content?.parts?.[0]?.text ||
          "No response from Gemini.";
        // replace "Thinking..." with actual response
        const lastMsg = chatDiv.querySelector(".bot:last-child");
        if (lastMsg) lastMsg.textContent = "Bot: " + reply;
      } catch (err) {
        console.error(err);
        const lastMsg = chatDiv.querySelector(".bot:last-child");
        if (lastMsg) lastMsg.textContent = "Bot: Error contacting Gemini API.";
      }
    }
  </script>
</body>
</html>

